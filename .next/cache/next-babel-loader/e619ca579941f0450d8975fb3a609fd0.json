{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Liliya\\\\Desktop\\\\frontend\\\\simple-blog\\\\pages\\\\index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useDispatch } from 'react-redux';\nimport { withRedux } from '../lib/redux';\nimport useSWR from 'swr';\nimport { types } from '../store/posts';\nimport Layout from '../components/Layout';\nimport List from '../components/List';\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (res) {\n    return res.json();\n  });\n};\n\nvar IndexPage = function IndexPage() {\n  var _useSWR = useSWR('/api/posts', fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  if (error) return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 23\n    }\n  }, \"Failed to load\");\n  if (!data) return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n\n  if (data) {\n    var dispatch = useDispatch();\n    dispatch({\n      type: types.GET_ALL_POSTS,\n      payload: data\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"The GL Blog\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, __jsx(List, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default withRedux(IndexPage);","map":{"version":3,"sources":["C:/Users/Liliya/Desktop/frontend/simple-blog/pages/index.js"],"names":["useDispatch","withRedux","useSWR","types","Layout","List","fetcher","url","fetch","then","res","json","IndexPage","data","error","dispatch","type","GET_ALL_POSTS","payload"],"mappings":";;;;;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD;AAAA,SAASC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgB,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GAAhB,CAAT;AAAA,CAAhB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,gBACIV,MAAM,CAAC,YAAD,EAAeI,OAAf,CADV;AAAA,MACZO,IADY,WACZA,IADY;AAAA,MACNC,KADM,WACNA,KADM;;AAGpB,MAAIA,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACX,MAAI,CAACD,IAAL,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;;AAEX,MAAIA,IAAJ,EAAU;AACN,QAAME,QAAQ,GAAGf,WAAW,EAA5B;AACAe,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAEb,KAAK,CAACc,aADP;AAELC,MAAAA,OAAO,EAAEL;AAFJ,KAAD,CAAR;AAIH;;AAED,SACI,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CAnBD;;AAqBA,eAAeZ,SAAS,CAACW,SAAD,CAAxB","sourcesContent":["import { useDispatch } from 'react-redux';\r\nimport { withRedux } from '../lib/redux';\r\nimport useSWR from 'swr';\r\nimport { types } from '../store/posts';\r\nimport Layout from '../components/Layout';\r\nimport List from '../components/List';\r\n\r\nconst fetcher = (url) => fetch(url).then((res) => res.json());\r\n\r\nconst IndexPage = () => {\r\n    const { data, error } = useSWR('/api/posts', fetcher);\r\n\r\n    if (error) return <div>Failed to load</div>;\r\n    if (!data) return <div>Loading...</div>;\r\n\r\n    if (data) {\r\n        const dispatch = useDispatch();\r\n        dispatch({\r\n            type: types.GET_ALL_POSTS,\r\n            payload: data,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"The GL Blog\">\r\n            <List />\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default withRedux(IndexPage);\r\n"]},"metadata":{},"sourceType":"module"}